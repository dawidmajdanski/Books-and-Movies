<!--
 - Created by Majdan on 31.01.2019.
 -->

<aura:component description="customSearchResultItem" implements="force:hasRecordId" access="global">
    <aura:attribute name="product" type="Object"/>
    <ltng:require styles="{!$Resource.staticStarsRating}"/>
    <ltng:require styles="{!$Resource.ribbonBadge}"/>
    <div class="tileContainer">
        <div class="imageContainer">
            <aura:if isTrue="{!v.product.discountPrice!=null}">
                <div class="discountTriangle">
                    <h1 class="saleTitle">
                        Sale
                    </h1>
                </div>
            </aura:if>
            <img onclick="{!c.handleProductClick}"
                 class="image"
                 src="{!v.product.productMainPic}"/>
        </div>
        <div class="tileContent">
            <h2 class="productTitle">
                {!v.product.productName}
            </h2>
            <div class="starsContainer">
                <div class="star-ratings-css">
                    <div class="star-ratings-css top" style="{!'width: '+v.product.averageRating*10*2+'%;'}"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                    <div class="star-ratings-css bottom"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>
                </div>
            </div>
            <aura:if isTrue="{!v.product.discountPrice!=null}">
                <div class="discountRibbonContainer">
                    <div class="discount-label green">
                        <span>{!v.product.discountPercentage}%</span>
                    </div>
                </div>
            </aura:if>
            <div class="priceContainer">
                <aura:if isTrue="{!v.product.discountPrice==null}">
                    <p style="padding-top: 10px;">
                        {!v.product.productPrice}$
                    </p>
                </aura:if>
                <aura:if isTrue="{!v.product.discountPrice!=null}">
                    <p style="padding-top: 10px;">
                        <span class="strikethrough" style="color: red;">{!v.product.productPrice}$</span>
                        &nbsp;
                        <span style="color: green;">{!v.product.discountPrice}$</span>
                    </p>
                </aura:if>
            </div>
        </div>
    </div>

</aura:component>